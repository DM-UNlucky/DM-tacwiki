# 动画制作规范
[[toc]]
## 分组
>为方便动画制作与程序读取，在开始制作动画之前应提前将模型分好组。以下为模型分组建议，***加粗斜体内容***为硬性要求。

------------

**分组建议**
- root为根组，除摄像机、定位组以外所有内容都应当在根组下
- bone为右手及枪械，bone可以是任意名字
- R为右手k帧组
- ***righthand_pos***为右手渲染组，此处的设置需和上一章节相同
- ACR为枪械总组，所有枪械部件都置于此分组内
- main为枪械内所有不可运动的部件的集合（不参与动画的所有东西丢进去）
- 其他所有运动件和main组同级，如弹匣组magazine，枪栓handle等
- L为左手k帧组
- ***lefthand_pos***为左手渲染组，此处的设置需和上一章节相同
- camera为摄像机动画k帧组

------------

**硬性要求**
无论您如何分组，以下分组名是不可更改的！
- 弹匣组：magazine，程序会自动识别magazine组下的内容作为默认弹匣，扩容1-3级弹匣。**注意: 无论您扩容弹匣的模型是否一样，都需放置3个扩容弹匣的分组。**
-默认弹匣：mag_standard
-1级扩容弹匣：mag_extended_1
-2级扩容弹匣：mag_extended_2
-3级扩容弹匣：mag_extended_3
- 额外弹匣组：additional_magazine，如果您想制作使用旧弹匣替换新弹匣(画面同时出现两个弹匣)的动画，则将额外的弹匣复制放入该分组中。程序会识别该分组额外渲染相应的弹匣。**注意：当您导出动画时请删掉该组内的内容。**
- 约束组：constraint制作约束动画时所使用的分组
- 摄像机动画：camera，若要创建摄像机动画，则需在该分组下使用摄像机插件添加一个摄像机，当您k帧的时候请对摄像机分组camera进行。

------------


![group](https://s1.3hov.com/lesraisins/i/2024/05/07/fenzu.png)

------------

## 枢轴点设置
>枢轴点设置是为了方便动画的制作，除***lefthand_pos***和***righthand_pos***组外其他组的枢轴点皆以自己舒适的方式进行设置。以下内容为参考建议。

**枢轴点：**枢轴点是零件/模型将围绕其旋转的点。

**需要设置枢轴点的内容：**通常来说所有参与k帧的分组都要设定枢轴点，如果你想偷懒的话则可以只设置会旋转的分组

**如何设置枢轴点：**
快捷键：P
工具栏的圆形按钮
枢轴点居中：右侧枢轴点数值的旁边

**推荐枢轴点位置：**此内容仅为编者建议不具任何权威，一切以顺手为主。
- root根组：置于枪械中心
- bone组：置于右手手心
- L，R组：置于手心
- 其他组：置于旋转轴心

------------


![pivot](https://s1.3hov.com/lesraisins/i/2024/05/07/pivot.png)

------------

## 动画类型与规范
>为了程序能正确读取，动画命名请严格参照以下内容！

### 必备动画
>以下为不可或缺的动画类型，若缺少该类型的动画则会导致画面出现严重问题

#### static_idle
默认持枪动画，该动画只需用设置左右手的位置，约束组的参数，以及特殊定位组
- 动画类型：静止动画

------------


![static_idle](https://s1.3hov.com/lesraisins/i/2024/05/07/static_idle.png)

------------


#### reload_tactical
战术换弹动画，如枪内还有剩余弹药的战术换弹方式。如您的枪没有战术换弹和空仓换弹之分，则可复制该动画到空仓换弹。
- 动画起始状态：除约束组外其他组与static_idle完全相同
- 动画终止状态：与static_idle完全相同
- 约束组动画：制作约束组动画后可以使开镜换弹时枪械始终围绕约束点范围内运动

#### reload_empty
空仓换弹动画，弹药耗尽后的换弹动画。
- 动画起始状态：除约束组外其他组与static_idle完全相同
- 动画终止状态：与static_idle完全相同
- 约束组动画：制作约束组动画后可以使开镜换弹时枪械始终围绕约束点范围内运动

#### inspect
检视动画：武器检视动画。
- 动画起始状态：与static_idle完全相同
- 动画终止状态：与static_idle完全相同

------------


#### shoot
射击动画，武器开火时的视觉后坐力动画
- 动画起始状态：与static_idle完全相同
- 动画终止状态：除约束组外与static_idle完全相同
- 约束组动画：制作约束组动画后可以使开火时枪械始终围绕约束点范围内运动。约束组关键帧在动画结束后要全部设置为0
- 动画类型：混合型。此动画将和其他类型动画混合播放
- 注意事项：此类型的动画不可包含手部关键帧
![shoot](https://s1.3hov.com/lesraisins/i/2024/05/07/shoot.png)

------------


### 可选动画类型
>可选动画为非所有枪都需要制作的动画，可根据需求自行选择是否制作

#### static_bolt_caught
空仓动画，当武器处于空仓状态时的静止动画
- 动画类型：静止动画

![sbc](https://s1.3hov.com/lesraisins/i/2024/05/07/sbc.png)

------------


#### draw
掏枪动画，当玩家拿出武器时播放的动画
- 默认动画包含
- 动画起始状态：屏幕外
- 动画终止状态：与static_idle完全相同

------------


#### put_away
收枪动画，当玩家切换物品栏，丢弃武器..时播放的动画
- 默认动画包含
- 动画起始状态：与static_idle完全相同
- 动画终止状态：屏幕外

------------


#### inspect_empty
空仓检视动画，当武器处于空仓状态时播放的检视动画
- 动画起始状态：与static_idle完全相同
- 动画终止状态：与static_idle完全相同

------------

#### bolt
拉栓动画，手动武器在开火后播放的动画
- 动画起始状态：与static_idle完全相同
- 动画终止状态：与static_idle完全相同
- 约束组动画：制作约束组动画后可以使拉栓时枪械始终围绕约束点范围内运动。

------------

## 动画制作
>下文仅为作者对blockbench软件制作动画的说明

### 一、通道设置
将通道中的旋转、移动、缩放勾选

------------

![channel](https://s1.3hov.com/lesraisins/i/2024/05/07/753v.png)

------------

### 二、关键帧
**添加关键帧**
动画的原理便是一个物件从一个关键帧运动到另一个关键帧的过程
在blockbench软件中可以通过组下的+号添加关键帧，也可以使用旋转(R)，移动(V)，缩放(S)工具对物体的状态进行变化添加关键帧
![addkey](https://s1.3hov.com/lesraisins/i/2024/05/07/addkey.png)
**关键帧类型**
关键帧有1.线性 2.平滑 3.贝塞尔 4.步 四种类型。当您选中关键帧后可以在屏幕左下角进行更改
![keytype](https://s1.3hov.com/lesraisins/i/2024/05/07/keytype.png)

------------

### 三、曲线
为了更精细的制作动画，可以在时间窗口切换曲线模式编辑
![graph](https://s1.3hov.com/lesraisins/i/2024/05/07/line.png)

------------

## 烘焙动画
>烘焙动画指将平滑、贝塞尔动画烘焙成线性动画以保证其在游戏内的正确渲染

**烘焙方法：**载入所有动画，全选关键帧，动画-烘焙动画
**注意事项：**在烘焙动画前请确保您的动画已经保存
![bake](https://s1.3hov.com/lesraisins/i/2024/05/07/bake.png)